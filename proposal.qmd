---
title: "Impact of Urban Activity on Air Quality"
subtitle: "Peer Review Proposal"
author: 
  - name: "W Squared - Stephen Watts, Kayla Wowk"
    affiliations:
      - name: "College of Information Science, University of Arizona"
description: "Identify the impact of urban activity on air quality in major cities in Massachusetts."
format:
  html:
    code-tools: true
    code-overflow: wrap
    code-line-numbers: true
    embed-resources: true
editor: visual
code-annotations: hover
execute:
  warning: false
jupyter: python3
---


```{python}
#| label: load-pkgs
#| message: false
import numpy as np
import pandas as pd
from pandas.tseries.holiday import USFederalHolidayCalendar
```

## Dataset

```{python}
#| label: load-dataset
#| message: false

# Load in dataframe
df = pd.read_csv('data/ozone_2024_MA.csv')

# Convert dates to datetime
df['Date'] = pd.to_datetime(df['Date'])

# Create column for seasons
def get_season(month):
    if 3 <= month <= 5:
        return 'Spring'
    elif 6 <= month <= 8:
        return 'Summer'
    elif 9 <= month <= 11:
        return 'Fall'
    else:
        return 'Winter'
df['Season'] = df['Date'].dt.month.apply(get_season)

# Create column that signifies if it is a weekend
df['is_weekend'] = df['Date'].dt.dayofweek >= 5

# Create column that signifies if it is a federal holiday
cal = USFederalHolidayCalendar()
holidays = cal.holidays(start=df['Date'].min(), end=df['Date'].max())
df['is_federal_holiday'] = df['Date'].isin(holidays)

# Print head() and info()
print(df.head())
print(df.info())
```

- This is the 2024 dataset of ozone levels in Masachussets from the EPA. The important columns include Date, Daily Max 8-hour Ozone Concentration, Daily AQI Value, County, and State. There are 6188 non-null columns that represent each day of the year for each county in Masachussetts. The 5 largest cities in Massechusetts include Boston, Worcester, Springfield, and Cambridge. These cities belong to the following 4 counties: Suffolk County, Worcester County, Hampden County, and Middlesex County. We will be analyzing the air quality index and ozone levels in these specific counties as we are focusing on urban activities in major cities.
- We find this project interesting because we both live with someone with asthma, and learning more about potential triggers and how to plan around them would help with their condition.

## Questions
- Does air quality change depending on the time of the week (weekend versus weekday) in major cities in Massachusetts?
- If so, is there a greater change in air quality during long weekends caused by federal holidays?
- Does air quality change depending on the season in major cities in Massachusetts?

## Analysis plan
Using both spatial and temporal data from the Environmental Protection Agency, determine the impact of urban activity (weekend vs. weekday) on ozone (or possibly other containments). Not only would I be able to determine variance in air quality across weekdays and weekends, I could also determine the impact of the season, as well as the impact of longer weekends (which include a federal holiday). We have added columns to the dataset which label each row as either a weekend or not and a federal holiday or not as well as which season each row belongs to.

## Weekly Plan of Attack:
| Week | Dates          | Tasks & Milestones                                                                 | Assigned Member                            |
|:-----|:----------------|:----------------------------------------------------------------------------------|:-------------------------------------------|
| 1    | Oct 24–Oct 30   | Draft project proposal and set up GitHub repo structure                           | Stephen (proposal), Kayla (repo setup)     |
| 2    | Oct 31–Nov 06   | Revise proposal based on peer feedback + receive instructor feedback              | Stephen (revision), All members (review response) |
| 3    | Nov 07–Nov 13   | Incorporate instructor feedback into final proposal                               | All members                                |
| 4    | Nov 14–Nov 20   | Begin implementation: data cleaning, preprocessing, initial modeling               | Stephen (data), Kayla (modeling)           |
| 5    | Nov 21–Nov 27   | Continue modeling, refine methods, begin visualization and dashboard setup         | Kayla (modeling), Stephen (viz/dashboard)  |
| 6    | Nov 28–Dec 04   | Finalize modeling, validate results, begin write-up                               | Kayla (validation), Stephen (write-up)     |
| 7    | Dec 05–Dec 11   | Conduct peer code review + finalize repo structure                                | All members                                |
| 8    | Dec 12–Dec 16   | Present project + submit final write-up                                           | All members                                |

## AI usage disclaimer
ChatGPT was used to confirm the correct formatting of the above table as well as formatting of the above functions. AI was not utilized in any written portions of this assignment.